---
title: "Exploratory Data Analysis w GEOQuery"
output: html_notebook
---

The purpose of this notebook is to conduct exploratory data analysis on the dataset using GEOQuery. 

```{r}
library(dplyr)
library(tidyverse)
library(GEOquery)
```

```{r}
df<- read.csv( file = '/Users/danielaquijano/Documents/GitHub/Transcriptomics-Final-Project-/source_files/GSE125957_processed_data .csv')
dim(df)
```
```{r}
head(df)
```

```{r}
gse <- getGEO(GEO = 'GSE125957', GSEMatrix = TRUE)
```
```{r}
gse
```
```{r}
#Get metadata, here we can see that there are 121 rows representing 121 samples
metadata <- pData(phenoData(gse[[1]])) #First object of the first element in the list. 
metadata
```
```{r}
#Here we select certain columns of the metadata in order to obtain more information about the samples
metadata.modified <- metadata %>%
  select(1,2,11,12,13,14) 
  #rename(diagnosis= characteristics_ch1.2) %>%
  #rename( sample=title ) %>%
  #mutate(diagnosis = gsub("diagnosis: ", "", diagnosis)) 
```
```{r}
metadata.modified
```
```{r}
#Further clean up metadata information
#Rename age and sample column, remove 'age_months' and 'sample_id' string
#Rename characteristics_ch1.3 to mouse_model, remove string 'mouse_model: '
metadata.modified<-metadata.modified %>%
  #rename(age= characteristics_ch1.1) %>%
  #mutate(age = gsub("age_months: ", "", age)) 
  #rename(sample= characteristics_ch1.2)
  #mutate(sample = gsub("sample_id: ", "", sample))
  rename(mouse_model= characteristics_ch1.3) %>%
  mutate(mouse_model = gsub("mouse_model: ", "", mouse_model))
```

